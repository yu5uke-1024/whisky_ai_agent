#!/usr/bin/env python3
"""
Whisky AI Agent API ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
"""

import uvicorn
import sys
import os

def main():
    """APIã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•"""
    print("ğŸ¥ƒ Whisky AI Agent API ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¦ã„ã¾ã™...")
    print("ğŸ“ ã‚µãƒ¼ãƒãƒ¼URL: http://localhost:8000")
    print("ğŸ“– API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: http://localhost:8000/docs")
    print("ğŸ”„ ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯: http://localhost:8000/health")
    print("â¹ï¸  åœæ­¢ã™ã‚‹ã«ã¯ Ctrl+C ã‚’æŠ¼ã—ã¦ãã ã•ã„")
    print("-" * 50)
    
    try:
        uvicorn.run(
            "api_server:app",
            host="0.0.0.0",
            port=8000,
            reload=True,  # é–‹ç™ºæ™‚ã®è‡ªå‹•ãƒªãƒ­ãƒ¼ãƒ‰
            log_level="info"
        )
    except KeyboardInterrupt:
        print("\nğŸ›‘ ã‚µãƒ¼ãƒãƒ¼ã‚’åœæ­¢ã—ã¾ã—ãŸ")
    except Exception as e:
        print(f"âŒ ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ã‚¨ãƒ©ãƒ¼: {e}")
        sys.exit(1)

if __name__ == "__main__":
    main()
